<div class="container-home">
  <%# <h1>Create a new memory</h1> %>

  <div class="container col-12">

    <div class="row justify-content-center">

      <div class="form" data-controller="form">

        <%# <ul id="progressbar">
          <li class="active">Memory info</li>
          <li>Text</li>
        </ul> %>

        <%= simple_form_for @memory do |f| %>

          <% if @step == 1 %>

            <%# <h2>Memory infos</h2> %>

            <div>

              <div class="py-3 d-flex justify-content-around" style="">
                <div class='d-flex'>
                  <% @babies.each do |baby| %>
                    <div>
                      <%= cl_image_tag baby.avatar.key, class: "avatar-bordered", style: "border-color : #{baby.color}", data: {baby: baby.id, action: "click->form#sendBabyId"} %>
                    </div>
                  <% end %>
                </div>

                <div class="d-none col-6" data-form-target="eventfield">
                  <%= f.simple_fields_for :key_memories, KeyMemory.new do |key_memory_subform| %>
                    <%= key_memory_subform.input :event, label: "ü•á Event", placeholder: "Choose a key event", collection: KeyMemory::EVENTS %>
                    <%= key_memory_subform.input :baby_id, as: :hidden, input_html: { data: { form_target: "input" }} %>
                  <% end %>
                </div>
              </div>

              <div class="py-3 row">
                <%= f.input :title, label: "‚úçÔ∏è Title", placeholder: "Enter a title" %>
              </div>

              <div class="py-3 d-flex justify-content-between">
                <div class="col-5">
                  <%= f.input :location, label: "üìçLocation", placeholder: "City" %>
                </div>
                <div class="col-5">
                  <%= f.input :date,label: "üìÖ Date", as: :date, html5: true %>
                </div>
              </div>


            </div>

          <% end %>

          <% if @step == 2 %>

            <%# <h2>Text</h2> %>

            <div class="py-3">
              <p>‚úçÔ∏è Description</p>
              <%= f.rich_text_area :content, label: "‚úçÔ∏è Description", placeholder: "Write a description", style: "height:20vh" %>
            </div>

              <div class="py-3 row">
                <%= f.input :medias, as: :file,  input_html: { multiple: true }, label: "üì∏ üé• Media" %>
              </div>
          <% end %>

          <div class="submit_container">
            <div style="text-align:center">
              <span class="step step-fill"></span>
              <span class="step <%= @step == 2 ? "step-fill" : "" %>"></span>
            </div>
            <% unless @step == 2 %>
              <%= f.button :submit, "Next", class:"btn btn-danger btn-submit", style: "color: white" %>
            <% else  %>
              <%= f.submit class: "btn btn-danger btn-submit", style: "color: white" %>
            <% end %>
          </div>

        <% end %>

      </div>
    </div>
  </div>
</div>
